<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminMapper">
		
	
	<select id="selectAllMember" resultMap="memberResultSet">
		select *
		from member
		order by member_enroll_date desc
	</select>
	
	<select id="getListCount" resultType="_int">
		select count(*)
		from member
	</select>
	
	<update id="deleteMember">
		update member
		set member_status='N'
		where member_id=#{id}
	</update>
	
	<select id="selectAllInquiry" resultMap="inquiryResultSet">
		select *
		from admin_inquiry
		order by create_date desc
	</select>
	
	<update id="answerContent">
		update admin_inquiry
		set answer_content = #{reply}, inquiry_status = 'Y'
		where inquiry_code = #{code}
	</update>
	
	<select id="selectAllAds" resultMap="adsResultSet">
		select *
		from ads
			 join funding using (funding_num)
			 join
		order by ads_num desc
	</select>

	<select id="creatorApproval" resultMap="creatorResultSet">
		select *
		from creator
		order by creator_num desc
	</select>
	
	<select id="businessImage" resultMap="imageResultSet">
		select *
		from image join creator_image using(image_num)
		where image_board_cate='5' and image_detail='1'
		order by image_num desc
	</select>
	
	
	
	
	
	<resultMap type="Member" id="memberResultSet">
		<id column="MEMBER_ID" property="memberId"/>
		<result column="MEMBER_PWD" property="memberPwd"/>
		<result column="MEMBER_NAME" property="memberName"/>
		<result column="MEMBER_NICKNAME" property="memberNickname"/>
		<result column="MEMBER_PHONE" property="memberPhone"/>
		<result column="MEMBER_ADDRESS" property="memberAddress"/>
		<result column="MEMBER_EMAIL" property="memberEmail"/>
		<result column="MEMBER_ENROLL_DATE" property="memberEnrolldate"/>
		<result column="MEMBER_GENDER" property="memberGender"/>
		<result column="MEMBER_TYPE" property="memberType"/>
		<result column="MEMBER_INTRODUCE" property="memberIntroduce"/>
		<result column="MEMBER_CATE" property="memberCate"/>
		<result column="MEMBER_STATUS" property="memberStatus"/>
	</resultMap>
	 
	<resultMap type="AdminInquiry" id="inquiryResultSet">
		<id column="INQUIRY_CODE" property="inquiryCode"/>
		<result column="WRITER" property="writer"/>
		<result column="INQUIRY_CATE" property="inquiryCate"/>
		<result column="INQUIRY_TITLE" property="inquiryTitle"/>
		<result column="INQUIRY_CONTENT" property="inquiryContent"/>
		<result column="CREATE_DATE" property="createDate"/>
		<result column="INQUIRY_STATUS" property="inquiryStatus"/>
		<result column="ANSWER_CONTENT" property="answerContent"/>
		<result column="ANSWER_DATE" property="answerDate"/>
	</resultMap>
	
	<resultMap type="Ads" id="adsResultSet">
		<id column="ADS_NUM" property="adsNum"/>
		<result column="FUNDING_NUM" property="fundingNum"/>
		<result column="ADS_PRICE" property="adsPrice"/>
		<result column="ADS_STATUS" property="adsStatus"/>
		<result column="CONFIRM" property="confirm"/>
		<result column="ADS_START" property="adsStart"/>
		<result column="ADS_END" property="adsEnd"/>
		<result column="ADS_CREATE_DATE" property="adsCreateDate"/>
		<result column="FUNDING_TITLE" property="fundingTitle"/>		
	</resultMap>
	
	<resultMap type="Creator" id="creatorResultSet">
		<id column="creator_num" property="creatorNum"/>
		<result column="creator" property="creator"/>
		<result column="business_type" property="businessType"/>
		<result column="business_number" property="businessNumber"/>
		<result column="manager_name" property="managerName"/>
		<result column="manager_phone" property="managerPhone"/>
		<result column="manager_email" property="managerEmail"/>
		<result column="creator_name" property="creatorName"/>
	</resultMap>
	
	<resultMap type="Image" id="imageResultSet">
		<id column="image_num" property="imageNum"/>
		<result column="image_form" property="imageForm"/>
		<result column="origin_name" property="originName"/>
		<result column="image_rename" property="imageRename"/>
		<result column="image_src" property="imageSrc"/>
		<result column="upload_date" property="uploadDate"/>
		<result column="image_status" property="imageStatus"/>
		<result column="image_level" property="imageLevel"/>
		<result column="image_board_cate" property="imageBoardCate"/>
		<result column="image_board_id" property="imageBoardId"/>
	</resultMap>
	
	<resultMap type="CreatorImage" id="creatorImageResultSet">
		<id column="image_num" property="imageNum"/>
		<result column="image_detail" property="imageDetail"/>
	</resultMap>
</mapper>